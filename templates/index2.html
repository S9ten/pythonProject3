<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" , href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="static/css/style.css"/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
            crossorigin="anonymous"></script>
    <title>Market</title>

</head>
<header>
    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" href="/">üÖöüÖêüÖùüÖêüÖ¢üÖó.üÖÉüÑæüÖÅüÑ∂</a>
        {% if current_user.is_authenticated %}
        <div uk-dropdown="mode: click">
            <ul class="uk-nav uk-dropdown-nav">
                <li><a class="navbar-brand" style="color:#6c9ef3" href="/user/{{ current_user.id }}">–ü—Ä–æ—Ñ–∏–ª—å: {{
                    current_user.name }} {{
                    current_user.surname }}</a></li>
                {% if current_user.is_admin%}
                <li><a class="navbar-brand" href="/create" style="color:#0ab954">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</a></li>
                {% endif %}
                <li><a class="navbar-brand" href="/cart" style="color:#ff8f00">–ö–æ—Ä–∑–∏–Ω–∞</a></li>
                <li><a class="navbar-brand" href="/logout" style="color:#ff0000">–í—ã–π—Ç–∏</a></li>
            </ul>
        </div>
        {% else %}
        <p>
            <a class="btn btn-primary " href="/register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
            <a class="btn btn-success" href="/login">–í–æ–π—Ç–∏</a>
        </p>
        {% endif %}
    </nav>
</header>
<body>
<div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
    {%if current_user.is_authenticated%}
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-label="Slide 1"
                aria-current="true"></button>
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2" class=""></button>
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3" class=""></button>
    </div>

    <div class="carousel-inner">
        <div class="carousel-item carousel-item-next carousel-item-start">
            <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg"
                 aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false">
                <rect width="100%" height="100%" fill="#6c9ef3"></rect>
            </svg>
            <div class="container">
                <div class="carousel-caption text-start">
                    <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ üÖöüÖêüÖùüÖêüÖ¢üÖó.üÖÉüÑæüÖÅüÑ∂!</h1>
                    <p>–°–∞–º—ã–π –∫—Ä—É–ø–Ω—ã–π –æ–Ω–ª–∞–π–Ω-–º–∞–≥–∞–∑–∏–Ω –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –≥–æ—Ä–æ–¥–∞ –ö–∞–Ω–∞—à!</p>
                </div>
            </div>
        </div>
        <div class="carousel-item">
            <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg"
                 aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false">
                <rect width="100%" height="100%" fill="#0ab954"></rect>
            </svg>
            <div class="container">
                <div class="carousel-caption">
                    <h1>–ú—ã –æ—Ç–∫—Ä—ã–ª–∏—Å—å!</h1>
                    <p>–ò—â–∏—Ç–µ –Ω–∞—à–∏ –ø—É–Ω–∫—Ç—ã –≤—ã–¥–∞—á–∏ –Ω–∞ —É–ª–∏—Ü–∞—Ö —Å–≤–æ–µ–≥–æ –≥–æ—Ä–æ–¥–∞!</p>
                </div>
            </div>
        </div>
        <div class="carousel-item active carousel-item-start">
            <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg"
                 aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false">
                <rect width="100%" height="100%" fill="#ff8f00"></rect>
            </svg>
            <div class="container">
                <div class="carousel-caption text-end">
                    <h1>–°–æ—Ç–Ω–∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∂–¥—É—Ç —Ç–µ–±—è!</h1>
                    <p>–¢—ã—Å—è—á–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π —Ö–æ—Ç—è—Ç —Ç–≤–æ–∏ —Ç–æ–≤–∞—Ä—ã!</p>
                </div>
            </div>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
{%else%}
<section class="py-5 text-center container">
    <div class="row py-lg-5">
        <div class="col-lg-6 col-md-8 mx-auto">
            <h1 class="fw-light">–í—ã –Ω–µ –≤–æ—à–ª–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç. –ò—Å–ø—Ä–∞–≤–∏–º?</h1>
            <p class="lead text-body-secondary">–í—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –µ—Å–ª–∏ —É –≤–∞—Å –µ–≥–æ
                –Ω–µ—Ç.</p>
            <p>
                <a class="btn btn-primary" , href="/login" , role="button">–í–æ–π—Ç–∏</a>
                <a class="btn btn-success" , href="/registr" , role="button">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
            </p>
        </div>
    </div>
</section>
{%endif%}


<div class="container" align="center">
    <div>
        <a class="btn btn-outline-danger" href="/grid_sort_price" role="button">–°–æ—Ä—Ç.–ø–æ —Ü–µ–Ω–µ –º–∏–Ω.</a>
        <a class="btn btn-primary" href="/grid_sort_date">–°–æ—Ä—Ç.–ø–æ –¥–∞—Ç–µ/—Å—Ç–∞—Ä—ã–µ</a>
        <a class="btn btn-outline-danger" href="/grid_sort_price_min" role="button">–°–æ—Ä—Ç. –ø–æ —Ü–µ–Ω–µ –º–∞–∫—Å.</a>
        <a class="btn btn-primary" href="/grid_sort_date_min">–°–æ—Ä—Ç.–ø–æ –¥–∞—Ç–µ/–Ω–æ–≤—ã–µ</a>
        <a class="btn btn-outline-info" href="/">–í–∏–¥</a>
    </div>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        {%for i in products%}
        {%if i[0].numb > 0%}
        <div class="col">
            <div class="card shadow-sm">
                {%if i[0].image%}
                <img height="150" src="data:image/jpeg;base64,{{ i[0].image }}"/>
                {%endif%}
                <div class="card-body">
                    <p class="card-text">{{i[0].title}}
                        –¶–µ–Ω–∞: {{i[0].price}} —Ä—É–±–ª–µ–π –û—Å—Ç–∞–ª–æ—Å—å: {{i[0].numb}}</p>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <form method="post">
                                <a class="btn btn-success" href="/cart_fill/{{i[0].id}}" role="button">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</a>
                                <a class="btn btn-outline-dark" href="/about/{{i[0].id}}" role="button">–û —Ç–æ–≤–∞—Ä–µ</a>
                                {%if i[0].manufacturer_id == current_user.dealer_id%}
                                <a class="btn btn-danger" href="/delete/{{i[0].id}}"
                                   type="button">–£–¥–∞–ª–∏—Ç—å
                                    —Ç–æ–≤–∞—Ä
                                </a>
                                {%endif%}
                                {%if current_user.is_authenticated%}
                                {%if current_user.is_moder%}
                                <a class="btn btn-danger" href="/delete_product/{{i[0].id}}"
                                   type="button">–£–¥–∞–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
                                </a>
                                {%endif%}
                                {%endif%}
                            </form>
                        </div>
                        <a class="class=btn btn-primary" , href="/user/{{ i[0].manufacturer_id }}">{{i[0].manufacturer_id}}</a>
                        <small class="text-body-secondary">{{i[1]}}</small>
                    </div>
                </div>
            </div>
        </div>
        {%endif%}
        {% endfor %}
    </div>
</div>
</body>
</html>
